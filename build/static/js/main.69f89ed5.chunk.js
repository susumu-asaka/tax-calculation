(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,n){e.exports=n(57)},55:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);n(33);var a=n(1),r=n(9),c=n(4),l=n(60),i=n(62),u=n(61),o=n(59),s=n(6),h=n(58);function m(e){if(e){var t=e.address.cityName,n=e.address.state;return t?t+" - "+n:n}return""}var d=n(19),E=n(27),y="http://localhost:3000/api";function f(){var e=this;return function(t,n){return c.b(e,void 0,void 0,function(){var e,a,r,l;return c.c(this,function(i){switch(i.label){case 0:if((e=n().locationsCache).isFetching||e.locations)return[3,4];t({type:"FetchTransactionsStart",reducer:function(e){return c.a({},e,{locationsCache:{isFetching:!0}})}}),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,d.get(y+"/locations")];case 2:return a=i.sent(),r=a.body,t(function(e){return{type:"FetchLocationsSuccess",reducer:function(t){return c.a({},t,{locationsCache:{isFetching:!1,locations:e}})}}}(r)),[3,4];case 3:return l=i.sent(),t((u=l,{type:"FetchLocationsFailure",reducer:function(e){return c.a({},e,{locationsCache:{isFetching:!1,error:u}})}})),[3,4];case 4:return[2]}var u})})}}function p(e){var t=this;return function(n,a){return c.b(t,void 0,void 0,function(){var t,r,l,i;return c.c(this,function(u){switch(u.label){case 0:if((t=a().transactionsCache).isFetching||t.transactions&&E.isEqual(t.query,e))return[3,4];n(function(e){return{type:"FetchTransactionsStart",reducer:function(t){return c.a({},t,{transactionsCache:{isFetching:!0,query:e}})}}}(e)),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,d.get(y+"/transactions").query(e)];case 2:return r=u.sent(),l=r.body,n(function(e){return{type:"FetchTransactionsSuccess",reducer:function(t){return c.a({},t,{transactionsCache:{query:t.transactionsCache.query,isFetching:!1,transactions:e}})}}}(l)),[3,4];case 3:return i=u.sent(),n((o=i,{type:"FetchTransactionsFailure",reducer:function(e){return c.a({},e,{transactionsCache:{isFetching:!1,error:o}})}})),[3,4];case 4:return[2]}var o})})}}var b=n(10);var g=Object(b.b)(function(e){return{cache:e.locationsCache}},function(e){var t=this;return{onInit:function(){return c.b(t,void 0,void 0,function(){return c.c(this,function(t){return[2,e(f())]})})}}})(function(e){var t=e.cache;(0,e.onInit)();var n=t.isFetching,r=t.locations;return r?a.createElement(s.b,null,a.createElement("h2",null,"Empresas(",r.length,")"),a.createElement("p",null,"Clique sobre uma linha para abrir as transa\xe7\xf5es da empresa desejada."),a.createElement(s.c,{style:{opacity:n?.5:1}},r.map(function(e,t){return a.createElement(s.d,{key:t},a.createElement(h.a,{to:"/transactions?companyLocation="+e.code},a.createElement(s.e,null,a.createElement(s.a,{md:"3"},e.email),a.createElement(s.a,{md:"3"},e.federalTaxId),a.createElement(s.a,{md:"3"},m(e)),a.createElement(s.a,{md:"3"},e.address.phone))))}))):a.createElement("h2",null,"Carregando...")}),v=n(11),C=n(30);function T(e,t){return void 0===e&&(e={locationsCache:{isFetching:!1},transactionsCache:{isFetching:!1}}),t.reducer?t.reducer(e):e}var F=n(31);function x(e,t,n){return a.createElement("span",{style:{textAlign:"left"}},e,a.createElement("span",{style:{float:"right"}},t.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})))}var I=n(21);var S,A=Object(b.b)(function(e,t){var n=e.transactionsCache,a=t.location.search,r=I.parse(a);return{cache:n,page:Number(r.page||"1")}},function(e,t){var n=this,a=t.location.search,r=I.parse(a);return delete r.page,{onInit:function(){return c.b(n,void 0,void 0,function(){return c.c(this,function(t){return[2,e(p(r))]})})}}})(function(e){var t=e.page,n=e.cache;(0,e.onInit)();var r=n.isFetching,c=n.transactions;return c?a.createElement(s.b,null,a.createElement("h2",null,"Empresas(",c.length,")"),a.createElement("p",null,"Clique sobre uma linha para abrir a transa\xe7\xe3o desejada."),a.createElement(s.c,{style:{opacity:r?.5:1}},c.slice(10*(t-1),Math.min(10*t,c.length)).map(function(e,t){return a.createElement(s.d,{key:t},a.createElement(h.a,{to:"/transactions?companyTransaction="+e},a.createElement(s.e,null,a.createElement(s.a,{lg:"4"},"TIPO: ",e.header.transactionType,a.createElement("br",null),a.createElement("b",null,"EMPRESA"),a.createElement("br",null),"CNPJ: ",e.header.location.federalTaxId,a.createElement("br",null),"CIDADE: ",m(e.header.location)),a.createElement(s.a,{lg:"4"},"DATA: ",F(e.header.transactionDate).format("DD/MM/YYYY"),a.createElement("br",null),a.createElement("b",null,"CONTRAPARTE"),a.createElement("br",null),"CNPJ: ",e.header.entity&&e.header.entity.federalTaxId,a.createElement("br",null),"CIDADE: ",m(e.header.entity)),a.createElement(s.a,{lg:"4"},"C\xd3DIGO: ",e.header.documentCode,a.createElement("br",null),a.createElement("b",null,"RESUMO"),a.createElement("br",null),x("SUBTOTAL:",e.calculatedTaxSummary.subtotal,e.header.currency),a.createElement("br",null),x("IEC:",e.calculatedTaxSummary.taxByType.iec.tax,e.header.currency),a.createElement("br",null),x("IST:",e.calculatedTaxSummary.taxByType.ist.tax,e.header.currency),a.createElement("br",null),x("ISC:",e.calculatedTaxSummary.taxByType.isc.tax,e.header.currency),a.createElement("br",null),x("TOTAL GERAL:",e.calculatedTaxSummary.grandTotal,e.header.currency)))))}))):a.createElement("h2",null,"Carregando...")}),O=(void 0===S&&(S={locationsCache:{isFetching:!1},transactionsCache:{isFetching:!1}}),Object(v.c)(T,S,Object(v.a)(C.a)));n(55);r.render(a.createElement(function(){return a.createElement(b.a,c.a({},{store:O}),a.createElement(l.a,null,a.createElement(i.a,null,a.createElement(u.a,{exact:!0,path:"/",render:(e="/locations",function(){return a.createElement(o.a,{to:e})})}),a.createElement(u.a,{path:"/locations",component:g}),a.createElement(u.a,{path:"/transactions",component:A}))));var e},null),document.getElementById("root"))}},[[32,2,1]]]);
//# sourceMappingURL=main.69f89ed5.chunk.js.map